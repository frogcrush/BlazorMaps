@page "/tests"

@using System.Diagnostics;

<div class="top-container">
    <h1 class="page-header">Tests</h1>
</div>

<div class="map-wrapper">
    <Map @ref="mapRef" MapOptions="@mapOptions"></Map>
</div>

<div class="side-panel">
    <h3 class="header">Performance tests</h3>
    <p class="number-of-markers-input">
        <MatThemeProvider Theme="@matTheme">
            <MatTextField @bind-Value="@NumberOfMarkers" Label="A number of markers to add" Outlined="true"></MatTextField>
        </MatThemeProvider>
    </p>
    <SidePanelButton Label="add markers"
                     IconSrc="@Icons.MarkersAddMarkersIconSrc"
                     OnClick="async () => await AddMarkers()" />
    <SidePanelButton Label="remove markers"
                     IconSrc="@Icons.MarkersRemoveMarkersIconSrc"
                     OnClick="async () => RemoveMarkers()" />
    <p class="number-of-markers-output">Number of markers on the map: @markers.Count</p>
    <p class="stopwatch">Action performed in: @stopwatch.ElapsedMilliseconds ms</p>
    <p class="note">Markers' random coordinates generation is not included in the measurement.</p>
</div>


<style>
    .side-panel {
        min-width: 400px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
        align-content: flex-start;
    }

        .side-panel .header,
        .side-panel .number-of-markers-input,
        .side-panel .number-of-markers-output,
        .side-panel .number-of-markers-label,
        .side-panel .stopwatch,
        .side-panel .note {
            grid-column: 1/-1;
        }

        .side-panel .header {
            margin-bottom: 2rem;
        }

        .side-panel .tile {
            margin-top: 2rem;
            margin-bottom: 2rem;
            justify-self: flex-start;
            align-self: flex-start;
            justify-content: flex-start;
        }

        .side-panel .icon-wrapper .icon {
            height: auto;
            transform:  translateX(10px)
        }
</style>